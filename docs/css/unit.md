---
title: CSS单位与移动端适配
nav:
  title: 前端基础
  path: /base
group:
  title: css相关试题
  path: /css/project
---

# CSS 中的单位与移动端适配

- 2022.04.13

## 移动端适配方案

### 传统 rem

```js
!(function () {
  var $html = document.querySelector('html');
  function setRem() {
    var clientWidth = $html.clientWidth || window.screen.width;
    $html.style.fontSize = clientWidth / 7.5 + 'px';
    var div = document.createElement('div');
    div.style.width = '7.5rem';
    document.body.appendChild(div);
    $html.style.fontSize =
      (parseFloat($html.style.fontSize) * clientWidth) / div.clientWidth + 'px';
    document.body.removeChild(div);
  }
  var b = null;
  window.addEventListener(
    'resize',
    function () {
      clearTimeout(b);
      b = setTimeout(setRem, 300);
    },
    !1,
  );
  setRem();
})(window);
```

书写的时候将 UI 设计稿中的 px 转化为 rem 进行书写。

### 自动 px2rem

```js
const {
  addPostcssPlugins,
} = require("customize-cra");

addPostcssPlugins([require('postcss-px2rem')({ remUnit: 75 / 2 })]), // px转换成rem

// 早期版本
module.exports ={
  ...,
  {
    loader: 'px2rem-loader',
      options: {
        remUnit: 75,// 1rem = 75px  750设计稿
        remPrecision: 8 ,// px转rem小数点位数
      }
  },
}
```

### vw

该方案采用 `postcss-px-to-viewport-8-plugin` 插件。

```js
yarn add -D postcss-px-to-viewport-8-plugin
```

安装完成后在 `postcss.config.js`中添加如下配置:

```js
module.exports = {
  plugins: {
    'postcss-px-to-viewport-8-plugin': {
      unitToConvert: 'px', // 需要转换的单位，默认为"px"
      viewportWidth: 750, // 设计稿的视口宽度
      unitPrecision: 5, // 单位转换后保留的精度
      propList: ['*', '!font-size'], // 能转化为vw的属性列表,!font-size表示font-size后面的单位不会被转换
      viewportUnit: 'vw', // 希望使用的视口单位
      fontViewportUnit: 'vw', // 字体使用的视口单位
      // 需要忽略的CSS选择器，不会转为视口单位，使用原有的px等单位。
      // 下面配置表示类名中含有'keep-px'都不会被转换
      selectorBlackList: ['keep-px]'],
      minPixelValue: 1, // 设置最小的转换数值，如果为1的话，只有大于1的值会被转换
      mediaQuery: false, // 媒体查询里的单位是否需要转换单位
      replace: true, //  是否直接更换属性值，而不添加备用属性
      exclude: [/node_modules/], // 忽略某些文件夹下的文件或特定文件，例如 'node_modules' 下的文件
      include: [/src/], // 如果设置了include，那将只有匹配到的文件才会被转换
      landscape: false, // 是否添加根据 landscapeWidth 生成的媒体查询条件 @media (orientation: landscape)
      landscapeUnit: 'vw', // 横屏时使用的单位
      landscapeWidth: 1338, // 横屏时使用的视口宽度
    },
  },
};
```

需要注意的是：`postcss-px-to-viewport` 对`内联css样式`，`外联css样式`，`内嵌css样式`有效，对`js动态css`无效。 所以要动态改变 css 展示效果的话，要使用静态的 class 定义变化样式，通过 js 改变 dom 元素的 class 实现样式变化。

## iphone 系列

[iphone 系列 完整地址](http://kylebing.cn/tools/iphone/)

|  Family & Model   | Logical Width | Logical Height | Physical Width | Physical Height | PPI | Scale Factor | Screen Diagonal | Release |
| :---------------: | :-----------: | :------------: | :------------: | :-------------: | :-: | :----------: | :-------------: | :-----: |
| iPhone 16 Pro Max |      440      |      956       |      1320      |      2868       | 460 |      3       |      6.9"       | 2024-09 |
|   iPhone 16 Pro   |      402      |      874       |      1206      |      2622       | 460 |      3       |      6.3"       | 2024-09 |
|  iPhone 16 Plus   |      430      |      932       |      1290      |      2796       | 460 |      3       |      6.7"       | 2024-09 |
|     iPhone 16     |      393      |      852       |      1179      |      2556       | 460 |      3       |      6.1"       | 2024-09 |
| iPhone 15 Pro Max |      430      |      932       |      1290      |      2796       | 460 |      3       |      6.7"       | 2023-09 |
|   iPhone 15 Pro   |      393      |      852       |      1179      |      2556       | 460 |      3       |      6.1"       | 2023-09 |
|  iPhone 15 Plus   |      430      |      932       |      1290      |      2796       | 460 |      3       |      6.7"       | 202-09  |
|     iPhone 15     |      393      |      852       |      1179      |      2556       | 460 |      3       |      6.1"       | 2023-09 |
| iPhone 14 Pro Max |      430      |      932       |      1290      |      2796       | 460 |      3       |      6.7"       | 2022-09 |
|   iPhone 14 Pro   |      393      |      852       |      1179      |      2556       | 460 |      3       |      6.1"       | 2022-09 |
|  iPhone 14 Plus   |      428      |      926       |      1284      |      2778       | 458 |      3       |      6.7"       | 2022-09 |
|     iPhone 14     |      390      |      844       |      1170      |      2532       | 460 |      3       |      6.1"       | 2022-09 |
| iPhone 13 Pro Max |      428      |      926       |      1284      |      2778       | 458 |      3       |      6.7"       | 2021-09 |
|   iPhone 13 Pro   |      390      |      844       |      1170      |      2532       | 460 |      3       |      6.1"       | 2021-09 |
|  iPhone 13 Mini   |      360      |      780       |      1080      |      2340       | 476 |      3       |      5.4"       | 2021-09 |
|     iPhone 13     |      390      |      844       |      1170      |      2532       | 460 |      3       |      6.1"       | 2021-09 |
| iPhone 12 Pro Max |      428      |      926       |      1284      |      2778       | 458 |      3       |      6.68"      | 2020-09 |
|   iPhone 12 Pro   |      390      |      844       |      1170      |      2532       | 460 |      3       |      6.06"      | 2020-09 |
|  iPhone 12 Mini   |      360      |      780       |      1080      |      2340       | 476 |      3       |      5.4"       | 2020-09 |
|     iPhone 12     |      390      |      844       |      1170      |      2532       | 460 |      3       |      6.1"       | 2020-09 |
| iPhone 11 Pro Max |      414      |      896       |      1242      |      2688       | 458 |      3       |      6.46"      | 2019-09 |
|   iPhone 11 Pro   |      375      |      812       |      1125      |      2436       | 458 |      3       |      5.85"      | 2019-09 |
|     iPhone 11     |      414      |      896       |      828       |      1792       | 326 |      2       |      6.1"       | 2019-09 |
|     iPhone XR     |      414      |      896       |      828       |      1792       | 326 |      2       |      6.08"      | 2018-10 |
|   iPhone XS Max   |      414      |      896       |      1242      |      2688       | 458 |      3       |      6.46"      | 2018-09 |
|     iPhone XS     |      375      |      812       |      1125      |      2436       | 458 |      3       |      5.85"      | 2018-09 |
|     iPhone X      |      375      |      812       |      1125      |      2436       | 458 |      3       |      5.85"      | 2017-11 |
|    iPhone SE3     |      375      |      667       |      750       |      1334       | 326 |      2       |      4.7"       | 2022-03 |
|    iPhone SE2     |      375      |      667       |      750       |      1334       | 326 |      2       |      4.7"       | 2020-04 |
|     iPhone SE     |      320      |      568       |      640       |      1136       | 326 |      3       |      4.0"       | 2016-03 |
|   iPhone 8 Plus   |      414      |      736       |      1080      |      1920       | 401 |      3       |      5.5"       | 2017-09 |
|     iPhone 8      |      375      |      667       |      750       |      1334       | 326 |      2       |      4.7"       | 2017-09 |
|   iPhone 7 Plus   |      414      |      736       |      1080      |      1920       | 401 |      3       |      5.5"       | 2016-09 |
|     iPhone 7      |      375      |      667       |      750       |      1334       | 326 |      2       |      4.7"       | 2016-09 |
|  iPhone 6s Plus   |      414      |      736       |      1080      |      1920       | 401 |      3       |      5.5"       | 2015-09 |
|     iPhone 6s     |      375      |      667       |      750       |      1334       | 326 |      2       |      4.7"       | 2015-09 |
|   iPhone 6 Plus   |      414      |      736       |      1080      |      1920       | 401 |      3       |      5.5"       | 2014-09 |
|     iPhone 6      |      375      |      667       |      750       |      1334       | 326 |      2       |      4.7"       | 2014-09 |
|     iPhone 5C     |      320      |      568       |      640       |      1136       | 326 |      2       |       4"        | 2013-09 |
|     iPhone 5S     |      320      |      568       |      640       |      1136       | 326 |      2       |       4"        | 2013-09 |
|     iPhone 5      |      320      |      568       |      640       |      1136       | 326 |      2       |       4"        | 2012-09 |

## ipad Pro 系列

[ipad 系列 完整地址](http://kylebing.cn/tools/ipad/)

|      Family & Model      | Logical Width | Logical Height | Physical Width | Physical Height | PPI | Scale Factor | Screen Diagonal | Release |
| :----------------------: | :-----------: | :------------: | :------------: | :-------------: | :-: | :----------: | :-------------: | :-----: |
|  iPad Pro (7th gen 13")  |     1032      |      1376      |      2064      |      2752       | 264 |      2       |       13"       | 2024-05 |
|  iPad Pro (7th gen 11")  |      834      |      1210      |      1668      |      2420       | 264 |      2       |       11"       | 2024-05 |
| iPad Pro (6th gen 12.9") |     1024      |      1366      |      2048      |      2732       | 264 |      2       |      12.9"      | 2022-10 |
|  iPad Pro (6th gen 11")  |      834      |      1194      |      1668      |      2388       | 264 |      2       |       11"       | 2022-10 |
| iPad Pro (5th gen 12.9") |     1024      |      1366      |      2048      |      2732       | 264 |      2       |      12.9"      | 2021-04 |
|  iPad Pro (5th gen 11")  |      834      |      1194      |      1668      |      2388       | 264 |      2       |       11"       | 2021-04 |
| iPad Pro (4th gen 12.9") |     1024      |      1366      |      2048      |      2732       | 264 |      2       |      12.9"      | 2020-03 |
|  iPad Pro (4th gen 11")  |      834      |      1194      |      1668      |      2388       | 264 |      2       |       11"       | 2020-03 |
| iPad Pro (3th gen 12.9") |     1024      |      1366      |      2048      |      2732       | 264 |      2       |      12.9"      | 2018-10 |
|  iPad Pro (3th gen 11")  |      834      |      1194      |      1668      |      2388       | 264 |      2       |       11"       | 2018-10 |
| iPad Pro (2th gen 12.9") |     1024      |      1366      |      2048      |      2732       | 264 |      2       |      12.9"      | 2017-06 |
| iPad Pro (2th gen 10.5") |      834      |      1112      |      1668      |      2224       | 264 |      2       |      10.5"      | 2017-06 |
| iPad Pro (1th gen 12.9") |     1024      |      1366      |      2048      |      2732       | 264 |      2       |      12.9"      | 2015-00 |
| iPad Pro (1th gen 9.7")  |      768      |      1024      |      1536      |      2048       | 264 |      2       |      9.7"       | 2016-05 |

## ipad Air 系列

|      Family & Model      | Logical Width | Logical Height | Physical Width | Physical Height | PPI | Scale Factor | Screen Diagonal | Release |
| :----------------------: | :-----------: | :------------: | :------------: | :-------------: | :-: | :----------: | :-------------: | :-----: |
|  iPad Air (6th gen 13")  |     1024      |      1366      |      2048      |      2732       | 264 |      2       |       13"       | 2024-05 |
|  iPad Air (6th gen 11")  |      820      |      1180      |      1640      |      2360       | 264 |      2       |       13"       | 2024-05 |
| iPad Air (5th gen 10.9") |      820      |      1180      |      1640      |      2360       | 264 |      2       |      10.9"      | 2022-03 |
| iPad Air (4th gen 10.9") |      820      |      1180      |      1640      |      2360       | 264 |      2       |      10.9"      | 2020-09 |
| iPad Air (3th gen 10.5") |      834      |      1112      |      1668      |      2224       | 264 |      2       |      10.5"      | 2019-03 |
| iPad Air (2th gen 9.7")  |      768      |      1024      |      1536      |      2048       | 264 |      2       |      9.7"       | 2014-10 |
| iPad Air (1th gen 9.7")  |      768      |      1024      |      1536      |      2048       | 264 |      2       |      9.7"       | 2013-09 |

## ipad Mini 系列

|      Family & Model      | Logical Width | Logical Height | Physical Width | Physical Height | PPI | Scale Factor | Screen Diagonal | Release |
| :----------------------: | :-----------: | :------------: | :------------: | :-------------: | :-: | :----------: | :-------------: | :-----: |
| iPad Mini (7th gen 8.3") |      744      |      1133      |      1488      |      2266       | 326 |      2       |      8.3"       | 2024-10 |
| iPad Mini (6th gen 8.3") |      744      |      1133      |      1488      |      2266       | 326 |      2       |      8.3"       | 2021-09 |
| iPad Mini (5th gen 7.9") |      768      |      1024      |      1536      |      2048       | 326 |      2       |      7.9"       | 2019-03 |
| iPad Mini (4th gen 7.9") |      768      |      1024      |      1536      |      2048       | 326 |      2       |      7.9"       | 2015-09 |
| iPad Mini (3th gen 7.9") |      768      |      1024      |      1536      |      2048       | 326 |      2       |      7.9"       | 2014-10 |
| iPad Mini (2th gen 7.9") |      768      |      1024      |      1536      |      2048       | 326 |      2       |      7.9"       | 2013-09 |
| iPad Mini (1th gen 7.9") |      768      |      1024      |      768       |      1024       | 163 |      2       |      7.9"       | 2012-09 |

## ipad 系列

|    Family & Model     | Logical Width | Logical Height | Physical Width | Physical Height | PPI | Scale Factor | Screen Diagonal | Release |
| :-------------------: | :-----------: | :------------: | :------------: | :-------------: | :-: | :----------: | :-------------: | :-----: |
| iPad (10th gen 10.9") |      820      |      1180      |      1640      |      2360       | 264 |      2       |      10.9"      | 2022-10 |
| iPad (9th gen 10.2")  |      810      |      1080      |      1620      |      2160       | 326 |      2       |      10.2"      | 2021-09 |
| iPad (8th gen 10.2")  |      810      |      1080      |      1620      |      2160       | 326 |      2       |      10.2"      | 2020-09 |
| iPad (7th gen 10.2")  |      810      |      1080      |      1620      |      2160       | 326 |      2       |      10.2"      | 2019-09 |
|  iPad (6th gen 9.7")  |      768      |      1024      |      1536      |      2048       | 264 |      2       |      9.7"       | 2018-03 |
|  iPad (5th gen 9.7")  |      768      |      1024      |      1536      |      2048       | 264 |      2       |      9.7"       | 2017-03 |
|  iPad (4th gen 9.7")  |      768      |      1024      |      1536      |      2048       | 264 |      2       |      9.7"       | 2012-10 |
|  iPad (3th gen 9.7")  |      768      |      1024      |      1536      |      2048       | 264 |      2       |      9.7"       | 2012-03 |
|  iPad (2th gen 9.7")  |      768      |      1024      |      1536      |      2048       | 264 |      2       |      9.7"       | 2011-03 |
|  iPad (1th gen 9.7")  |      768      |      1024      |      1536      |      2048       | 264 |      2       |      9.7"       | 2010-04 |

iPad Pro (6th gen 12.9")1024136620482732264212.9"2022-10-26iPad Pro (6th gen 11")834119416682388264211"2022-10-26iPad 10th gen820118016402360264210.9"2022-10-26iPhone 14 Plus4289261284277845836.7"2022-10-07iPhone 14 Pro
Max4309321290279646036.7"2022-09-16iPhone 14 Pro3938521179255646036.1"2022-09-16iPhone 143908441170253246036.1"2022-09-16iPhone SE 3rd gen375667750133432624.7"2022-03-08iPad Air (5th gen)820118016402360264210.9"2022-03-08iPhone 133908441170253246036.06"2021-09-14iPhone 13 mini3758121080234047635.42"2021-09-14iPhone 13 Pro Max4289261284277845836.68"2021-09-14iPhone 13 Pro3908441170253246036.06"2021-09-14iPad 9th gen810108016202160264210.2"2021-09-14iPad Pro (5th gen 12.9")1024136620482732264212.9"2021-05-21iPad Pro (5th gen 11")834119416682388264211"2021-05-21iPad Air (4th gen)820118016402360264210.9"2020-10-23iPhone 123908441170253246036.06"2020-10-13iPhone 12 mini3758121080234047635.42"2020-10-13iPhone 12 Pro Max4289261284277845836.68"2020-10-13iPhone 12 Pro3908441170253246036.06"2020-10-13iPad 8th gen810108016202160264210.2"2020-09-18iPhone SE 2nd gen375667750133432624.7"2020-04-24iPad Pro (4th gen 12.9")1024136620482732264212.9"2020-03-25iPad Pro (4th gen 11")834119416682388264211"2020-03-25iPad 7th gen810108016202160264210.2"2019-09-25iPhone 11 Pro Max4148961242268845836.46"2019-09-20iPhone 11 Pro3758121125243645835.85"2019-09-20iPhone 11414896828179232626.1"2019-09-20iPod touch 7th gen320568640113632624"2019-05-28iPad Mini (6th gen)74411331488226632628.3"2019-03-18iPad Mini (5th gen)76810241536204832627.9"2019-03-18iPad Air (3rd gen)834111216682224264210.5"2019-03-18iPad Pro (3rd gen 12.9")1024136620482732264212.9"2018-11-07iPad Pro (3rd gen 11")834119416682388264211"2018-11-07iPhone XR414896828179232626.06"2018-10-26iPhone XS Max4148961242268845836.46"2018-09-21iPhone XS3758121125243645835.85"2018-09-21iPad 6th gen76810241536204826429.7"2018-03-27iPhone X3758121125243645835.85"2017-11-03iPhone 8 Plus4147361080192040135.5"2017-09-22iPhone 8375667750133432624.7"2017-09-22iPad Pro (2nd gen 12.9")1024136620482732264212.9"2017-06-13iPad Pro (2nd gen 10.5")834111216682224264210.5"2017-06-13iPad 5th gen76810241536204826429.7"2017-03-24iPhone 7 Plus4147361080192040135.5"2016-09-16iPhone 7375667750133432624.7"2016-09-16iPhone SE 1st gen320568640113632624"2016-03-31iPad Pro (1st gen 9.7”)76810241536204826429.7"2016-03-31iPad Pro (1st gen 12.9")1024136620482732264212.9"2015-11-11iPhone 6s Plus4147361080192040135.5"2015-09-25iPhone 6s375667750133432624.7"2015-09-25iPad mini 476810241536204832627.9"2015-09-09iPod touch 6th gen320568640113632624"2015-07-15iPad Air 276810241536204832629.7"2014-10-22iPad mini 376810241536204826427.9"2014-10-22iPhone 6 Plus4147361080192040135.5"2014-09-19iPhone 6375667750133432624.7"2014-09-19iPad mini 276810241536204832627.9"2013-11-12iPad Air76810241536204826429.7"2013-11-01iPhone 5C320568640113632624"2013-09-20iPhone 5S320568640113632624"2013-09-20iPad 4th gen76810241536204826429.7"2012-11-12iPad mini7681024768102416317.9"2012-11-02iPod touch 5th gen320568640113632624"2012-10-11iPhone 5320568640113632624"2012-09-21iPad 3rd gen76810241536204826429.7"2012-03-16iPhone 4S32048064096032623.5"2011-10-14iPad 27681024768102413219.7"2011-03-11iPod touch 4th gen32048064096032623.5"2010-09-01iPhone 432048064096032623.5"2010-06-21iPad 1st gen7681024768102413219.7"2010-04-03iPod touch 3rd gen32048032048016313.5"2009-09-09iPhone 3GS32048032048016313.5"2009-06-19iPod touch 2nd gen32048032048016313.5"2008-09-09iPhone 3G32048032048016313.5"2008-07-11iPod touch 1st gen32048032048016313.5"2007-09-05iPhone 1st gen32048032048016313.5"2007-06-29
