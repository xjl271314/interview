---
title: 赛马问题
nav:
  title: 编程题
  path: /writing
group:
  title: 思维扩展
  path: /writing/open
  order: 4
---

# 赛马问题

- 2022.01.10

## 题目

一个赛场中有 5 条赛道，现在有 25 匹马，在没有定时器的前提下最少跑多少圈可以角逐出前三名？

### 分析

#### 1. 全部马均需跑一次

将 25 匹马根据 5 个赛道均分成 5 组(25 / 5 = 5；)，各组标号分别是 A、B、C、D、E，最终全部 5 组比赛之后的结果如下表所示：

|        | 第一名 | 第二名 | 第三名 | 第四名 | 第五名 |
| :----- | :----- | :----- | :----- | :----- | :----- |
| 第一组 | A1     | A2     | A3     | A4     | A5     |
| 第二组 | B1     | B2     | B3     | B4     | B5     |
| 第三组 | C1     | C2     | C3     | C4     | C5     |
| 第四组 | D1     | D2     | D3     | D4     | D5     |
| 第五组 | E1     | E2     | E3     | E4     | E5     |

5 圈之后我们可以得到每个组的所有马匹的排名顺序，确认了每组的第一名，但是还无法确认前 3 名。

#### 2. 将每组的第一名赛一次

接下来我们将每组的第一名拉出来进行比赛，得到的比赛结果如下:

| 第一名 | 第二名 | 第三名 | 第四名 | 第五名 |
| :----- | :----- | :----- | :----- | :----- |
| A1     | B1     | C1     | D1     | E1     |

经过本轮比赛之后，已经跑了 6 圈，我们可以得到以下信息:

- 所有马匹的第一名：A1
- 每组的第一名顺序：A1 > B1 > C1 > D1 > E1
- 剩下的数据中 A2-A5 的速度有可能比其它组的都快；B2-B5 的速度有可能比 C、D、E 组的都快；C2-C5 的速度有可能比 D、E 组的都快；D2-D5 的速度有可能比 E 组的都快。

接下来我们通过分析下例的情况：

- 假设 A2、A3 比剩下的都快，那么 2，3 名分别是 A2、A3
- 假设 A2、A3 比一部分的马匹快，那么 B1、B2 就有可能参与竞争
- 假设 B2 有可能比 C1 慢，这时候 B2 就有可能和 C1 竞争第三名

|        | 第一名 | 第二名 | 第三名 | 第四名 | 第五名 |
| :----- | :----- | :----- | :----- | :----- | :----- |
| 第一组 | A1     | `A2`   | `A3`   | A4     | A5     |
| 第二组 | `B1`   | `B2`   | B3     | B4     | B5     |
| 第三组 | `C1`   | C2     | C3     | C4     | C5     |
| 第四组 | D1     | D2     | D3     | D4     | D5     |
| 第五组 | E1     | E2     | E3     | E4     | E5     |

#### 3. 将 A2、A3、B1、B2、C1 赛一场

这时候进行第 7 圈的比赛，决出的 1、2 名就是对应的 2、3 名。

## 扩展

若现在想角逐出前 4 名最少需要多少圈？

### 分析

在赛到第七圈的时候，已经角逐出来了前三名,此时能够获取到的信息有：

- 前三名是谁
- 第七圈的第三名是谁

目前要角逐出第四名，只需要通过比第七圈里面的第三名，和总体第三名后面可能产生第三名的位置即可。

若前三名分别是 A1、B1、C1，第七圈结果是 B1、C1、A2、A3、B2，则可能产生总体第四名的位置是 A2、C2、D1，则只需要比较三者即可跑出第四名。

|        | 第一名 | 第二名 | 第三名 | 第四名 | 第五名 |
| :----- | :----- | :----- | :----- | :----- | :----- |
| 第一组 | A1     | `A2`   | `A3`   | A4     | A5     |
| 第二组 | `B1`   | `B2`   | B3     | B4     | B5     |
| 第三组 | `C1`   | `C2`   | C3     | C4     | C5     |
| 第四组 | `D1`   | D2     | D3     | D4     | D5     |
| 第五组 | E1     | E2     | E3     | E4     | E5     |

因此角逐出前 4 名至少需要跑 8 圈。
